
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="pygeoapi is an OGC Reference Implementation supporting numerous OGC API specifications. This workshop will cover publishing geospatial data to the Web using pygeoapi in support of the suite of OGC API standards.">
      
      
        <meta name="author" content="The pygeoapi community">
      
      
        <link rel="canonical" href="https://geopython.github.io/diving-into-pygeoapi/publishing/first/">
      
      <link rel="icon" href="../../assets/favicon.ico">
      <meta name="generator" content="mkdocs-1.3.1, mkdocs-material-8.4.1">
    
    
      
        <title>Exercise 1 - Your first dataset - Diving into pygeoapi</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.69437709.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.cbb835fc.min.css">
        
      
      
    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/pygeoapi.css">
    
      <link rel="stylesheet" href="../../assets/stylesheets/termynal.css">
    
      <link rel="stylesheet" href="../../assets/stylesheets/custom.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="pygeoapi" data-md-color-primary="" data-md-color-accent="">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#exercise-1-your-first-dataset" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Diving into pygeoapi" class="md-header__button md-logo" aria-label="Diving into pygeoapi" data-md-component="logo">
      
  <img src="../../assets/images/pygeoapi-icon-notrans.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Diving into pygeoapi
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Exercise 1 - Your first dataset
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/geopython/diving-into-pygeoapi" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.1.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Diving into pygeoapi" class="md-nav__button md-logo" aria-label="Diving into pygeoapi" data-md-component="logo">
      
  <img src="../../assets/images/pygeoapi-icon-notrans.png" alt="logo">

    </a>
    Diving into pygeoapi
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/geopython/diving-into-pygeoapi" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.1.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../introduction/" class="md-nav__link">
        Introduction to pygeoapi
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../setup/" class="md-nav__link">
        Workshop environment setup
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../standards/" class="md-nav__link">
        Standards
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" checked>
      
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../">Publishing</a>
          
            <label for="__nav_5">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Publishing" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Publishing
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Exercise 1 - Your first dataset
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Exercise 1 - Your first dataset
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#verify-the-existing-docker-compose-config" class="md-nav__link">
    Verify the existing Docker Compose config
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#publish-first-dataset" class="md-nav__link">
    Publish first dataset
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#making-data-available-in-the-docker-container" class="md-nav__link">
    Making data available in the Docker container
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#test" class="md-nav__link">
    Test
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#debugging-configuration-errors" class="md-nav__link">
    Debugging configuration errors
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../ogcfeat/" class="md-nav__link">
        Exercise 2 - Vector data via OGC API - Features
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../ogccov/" class="md-nav__link">
        Exercise 3 - Raster data via OGC API - Coverages
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../ogctile/" class="md-nav__link">
        Exercise 4 - Tiles of geospatial data via OGC API - Tiles
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../ogcrec/" class="md-nav__link">
        Exercise 5 - Metadata via OGC API - Records
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../ogcedr/" class="md-nav__link">
        Exercise 6 - Environmental data via OGC - Environmental Data Retrieval
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" >
      
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../advanced/">Advanced topics</a>
          
            <label for="__nav_6">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Advanced topics" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Advanced topics
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced/i18n/" class="md-nav__link">
        Multilingual support
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced/ui-custom-templates/" class="md-nav__link">
        UI customization and templating
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced/downstream-applications/" class="md-nav__link">
        Using pygeoapi in downstream applications
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced/seo/" class="md-nav__link">
        Search Engine Optimization (SEO)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced/security-access-control/" class="md-nav__link">
        Security and access control
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced/semantic-web-linked-data/" class="md-nav__link">
        Semantic Web and Linked Data
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced/cloud/" class="md-nav__link">
        Cloud deployment
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced/inspire/" class="md-nav__link">
        INSPIRE support
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../conclusion/" class="md-nav__link">
        Conclusion
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#verify-the-existing-docker-compose-config" class="md-nav__link">
    Verify the existing Docker Compose config
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#publish-first-dataset" class="md-nav__link">
    Publish first dataset
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#making-data-available-in-the-docker-container" class="md-nav__link">
    Making data available in the Docker container
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#test" class="md-nav__link">
    Test
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#debugging-configuration-errors" class="md-nav__link">
    Debugging configuration errors
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
  <a href="https://github.com/geopython/diving-into-pygeoapi/edit/master/docs/publishing/first.md" title="Edit this page" class="md-content__button md-icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
  </a>



<h1 id="exercise-1-your-first-dataset">Exercise 1 - Your first dataset</h1>
<p>In this section you are going to publish a vector dataset.</p>
<p>For this exercise, we will use a CSV dataset of <a href="https://github.com/geopython/diving-into-pygeoapi/blob/main/workshop/exercises/data/free-wifi-florence.csv">free Wifi locations in Florence</a>,
kindly provided by <a href="https://opendata.comune.fi.it">opendata.comune.fi.it</a>.</p>
<p>You can find this dataset in <code>workshop/exercises/data/free-wifi-florence.csv</code>.</p>
<p>This exercise consists of two key steps:</p>
<ul>
<li>adapt the <code>pygeoapi.config.yml</code> to define this dataset as an OGC API - Features <em>collection</em></li>
<li>ensure that pygeoapi can find and connec to the data file</li>
</ul>
<p>We will use the <code>docker-compose.yml</code> file provided.</p>
<h2 id="verify-the-existing-docker-compose-config">Verify the existing Docker Compose config</h2>
<p>Before making any changes, we will make sure that the initial Docker Compose
setup provided to you is actually working. Two files are relevant:</p>
<ul>
<li><code>workshop/exercises/docker-compose.yml</code></li>
<li><code>pygeoapi/docker.pygeoapi.config</code></li>
</ul>
<p>To test:</p>
<div class="admonition question">
<p class="admonition-title">Test the workshop configuration</p>
<ol>
<li>In a terminal shell navigate to the workshop folder and type:</li>
</ol>
<p><div class="termy">
<div class="highlight"><pre><span></span><code>docker-compose up
</code></pre></div>
</div>
1. Open <code>http://localhost:5000</code> in your browser, verify some collections
1. Close by typing <code>CTRL-C</code></p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You may also run the Docker container in the background (detached) as follows:</p>
<p><div class="termy">
<div class="highlight"><pre><span></span><code>docker-compose up -d
docker ls  <span class="c1"># verify that the pygeoapi container is running</span>
<span class="c1"># visit http://localhost:5000 in your browser, verify some collections</span>
docker logs --follow pygeoapi  <span class="c1"># view logs</span>
docker-compose stop
</code></pre></div>
</div></p>
</div>
<h2 id="publish-first-dataset">Publish first dataset</h2>
<p>You are now ready to publish your first dataset.</p>
<div class="admonition question">
<p class="admonition-title">Setting up the pygeoapi config file</p>
<ol>
<li>Open the file <code>workshop/exercises/pygeoapi/pygeoapi.config.yml</code> in your text editor</li>
<li>Look for the commented config section starting with <code># START - EXERCISE 1 - Your First Collection</code></li>
<li>Uncomment all lines until <code># END - EXERCISE 1 - Your First Collection</code></li>
</ol>
</div>
<p>Make sure that the indentation aligns (hint: directly under `# START ...)</p>
<p>The config section reads:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span></pre></div></td><td class="code"><div><pre><span></span><code>free_wifi_florence:
    type: collection
    title: Free WIFI Florence
    description: The dataset shows the location of the places in the Municipality of Florence where a free wireless internet connection service (Wifi) is available.
    keywords:
        - wifi
        - florence
    links:
        - type: text/csv
          rel: canonical
          title: data
          href: https://opendata.comune.fi.it/?q=metarepo/datasetinfo&amp;id=fb5b7bac-bcb0-4326-9388-7e3f3d671d71
          hreflang: it-IT
    extents:
        spatial:
            bbox: [11, 43.6, 11.4, 43.9]
            crs: http://www.opengis.net/def/crs/OGC/1.3/CRS84
    providers:
        - type: feature
        name: CSV
        data: /data/free-wifi-florence.csv
        id_field: name-it
        geometry:
            x_field: lon
            y_field: lat
</code></pre></div></td></tr></table></div>
<p>The most relevant part is the <code>providers</code> section. Here, we define a <code>CSV Provider</code>,
pointing the file path to the <code>/data</code> directory we will mount (see next) from the local
directory into the Docker container above. Because a CSV is not a spatial file, we explicitly
configure pygeoapi so that the longitude and latitude (x and y) is mapped from the columns <code>lon</code>
and <code>lat</code> in the CSV file.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>To learn more about the pygeoapi configuration syntax and conventions see
the <a href="https://docs.pygeoapi.io/en/latest/configuration.html">relevant chapter in the documentation</a>.</p>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>pygeoapi includes <a href="https://docs.pygeoapi.io/en/latest/data-publishing/ogcapi-features.html#providers">numerous data providers</a> which
enable access to a variety of data formats. Via the OGR/GDAL plugin the number of supported formats is almost limitless.
Consult the <a href="https://docs.pygeoapi.io/en/latest/data-publishing/ogcapi-features.html#providers">data provider page</a> how you can set up
a connection to your dataset of choice. You can always copy a relevant example configuration and place it in the datasets section of
the pygeoapi configuration file for your future project.</p>
</div>
<h2 id="making-data-available-in-the-docker-container">Making data available in the Docker container</h2>
<p>As the Docker container (named <code>pygeoapi</code>) cannot directly access files on your
local host system, we will use Docker volume mounts. This can be defined 
in the <code>docker-compose.yml</code> file as follows:</p>
<div class="admonition question">
<p class="admonition-title">Configure access to the data</p>
<ol>
<li>Open the file <code>workshop/exercises/docker-compose.yml</code></li>
<li>Look for the commented section <code># Exercise 1 -</code></li>
<li>Uncomment that line  <code>- ./data:/data</code></li>
</ol>
</div>
<p>The relevant lines read:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span></pre></div></td><td class="code"><div><pre><span></span><code>volumes:
    - ./pygeoapi/pygeoapi.config.yml:/pygeoapi/local.config.yml
    - ./data:/data # Exercise 1 - Ready to pull data from here
</code></pre></div></td></tr></table></div>
<p>The local <code>./pygeoapi/pygeoapi.config.yml</code> file was already mounted. Now
we have also mounted (made available) the entire local directory <code>./data</code>.</p>
<h2 id="test">Test</h2>
<div class="admonition question">
<p class="admonition-title">Start with updated configuration</p>
<ol>
<li>Start by typing <code>docker-compose up</code> </li>
<li>Observe logging output</li>
<li>If no errors: open http://localhost:5000</li>
<li>Look for the Free Wifi Collection</li>
<li>Browse through the collection</li>
</ol>
</div>
<h2 id="debugging-configuration-errors">Debugging configuration errors</h2>
<p>Incidentally you may run into errors, briefly discussed here:</p>
<ul>
<li>A file cannot be found, a typo in the configuration</li>
<li>The format or structure of the spatial file is not fully supported</li>
<li>The port (5000) is already taken. Is a previous pygeoapi still running? If you change the port, consider that you also have to update the pygeoapi config file</li>
</ul>
<p>There are two parameters in the configuration file which help to address these issues. 
Set the logging level to <code>DEBUG</code> and indicate a path to a log file. </p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>On Docker, set the path of the logfile to the mounted folder, so you can easily access it from your host system. You can also view the console logs from
your Docker container as follows:</p>
<p><div class="termy">
<div class="highlight"><pre><span></span><code>docker logs --follow pygeoapi
</code></pre></div>
</div></p>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Errors related to file paths typically happen on initial setup. However, they may also happen at unexpected moments, resulting in a broken service.
Products such as <a href="https://geohealthcheck.org">GeoHealthCheck</a> aim to monitor, detect and notify service health and availability. The OGC APi - Features
tests in GeoHealthCheck poll the availability of the service at intervals. Consult the <a href="https://docs.geohealthcheck.org">GeoHealthCheck documentation</a> for more
information. </p>
</div>




              
            </article>
            
          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="../" class="md-footer__link md-footer__link--prev" aria-label="Previous: Publishing data" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Publishing data
            </div>
          </div>
        </a>
      
      
        
        <a href="../ogcfeat/" class="md-footer__link md-footer__link--next" aria-label="Next: Exercise 2 - Vector data via OGC API - Features" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Exercise 2 - Vector data via OGC API - Features
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      &copy; 2022 pygeoapi community
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.indexes"], "search": "../../assets/javascripts/workers/search.ecf98df9.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.9c69f0bc.min.js"></script>
      
        <script src="../../assets/javascripts/termynal.js"></script>
      
        <script src="../../assets/javascripts/custom.js"></script>
      
    
  </body>
</html>
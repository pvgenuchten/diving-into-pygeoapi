
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="pygeoapi is an OGC Reference Implementation supporting numerous OGC API specifications. This workshop will cover publishing geospatial data to the Web using pygeoapi in support of the suite of OGC API standards.">
      
      
        <meta name="author" content="The pygeoapi community">
      
      
        <link rel="canonical" href="https://geopython.github.io/diving-into-pygeoapi/publishing/ogcrec/">
      
      <link rel="icon" href="../../assets/favicon.ico">
      <meta name="generator" content="mkdocs-1.3.1, mkdocs-material-8.4.1">
    
    
      
        <title>Exercise 5 - Metadata via OGC API - Records - Diving into pygeoapi</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.69437709.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.cbb835fc.min.css">
        
      
      
    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/pygeoapi.css">
    
      <link rel="stylesheet" href="../../assets/stylesheets/termynal.css">
    
      <link rel="stylesheet" href="../../assets/stylesheets/custom.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="pygeoapi" data-md-color-primary="" data-md-color-accent="">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#exercise-5-metadata-via-ogc-api-records" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Diving into pygeoapi" class="md-header__button md-logo" aria-label="Diving into pygeoapi" data-md-component="logo">
      
  <img src="../../assets/images/pygeoapi-icon-notrans.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Diving into pygeoapi
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Exercise 5 - Metadata via OGC API - Records
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/geopython/diving-into-pygeoapi" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.1.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Diving into pygeoapi" class="md-nav__button md-logo" aria-label="Diving into pygeoapi" data-md-component="logo">
      
  <img src="../../assets/images/pygeoapi-icon-notrans.png" alt="logo">

    </a>
    Diving into pygeoapi
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/geopython/diving-into-pygeoapi" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.1.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../introduction/" class="md-nav__link">
        Introduction to pygeoapi
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../setup/" class="md-nav__link">
        Workshop environment setup
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../standards/" class="md-nav__link">
        Standards
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" checked>
      
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../">Publishing</a>
          
            <label for="__nav_5">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Publishing" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Publishing
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../first/" class="md-nav__link">
        Exercise 1 - Your first dataset
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../ogcfeat/" class="md-nav__link">
        Exercise 2 - Vector data via OGC API - Features
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../ogccov/" class="md-nav__link">
        Exercise 3 - Raster data via OGC API - Coverages
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../ogctile/" class="md-nav__link">
        Exercise 4 - Tiles of geospatial data via OGC API - Tiles
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Exercise 5 - Metadata via OGC API - Records
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Exercise 5 - Metadata via OGC API - Records
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#pygeoapi-support" class="md-nav__link">
    pygeoapi support
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#publish-metadata-records-in-pygeoapi" class="md-nav__link">
    Publish metadata records in pygeoapi
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#metadata-formats" class="md-nav__link">
    Metadata formats
  </a>
  
    <nav class="md-nav" aria-label="Metadata formats">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sample-iso-19139-to-tinydbcatalogue-loader" class="md-nav__link">
    Sample ISO 19139 to TinyDBCatalogue loader
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#client-access" class="md-nav__link">
    Client access
  </a>
  
    <nav class="md-nav" aria-label="Client access">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#qgis" class="md-nav__link">
    QGIS
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../ogcedr/" class="md-nav__link">
        Exercise 6 - Environmental data via OGC - Environmental Data Retrieval
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" >
      
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../advanced/">Advanced topics</a>
          
            <label for="__nav_6">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Advanced topics" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Advanced topics
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced/i18n/" class="md-nav__link">
        Multilingual support
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced/ui-custom-templates/" class="md-nav__link">
        UI customization and templating
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced/downstream-applications/" class="md-nav__link">
        Using pygeoapi in downstream applications
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced/seo/" class="md-nav__link">
        Search Engine Optimization (SEO)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced/security-access-control/" class="md-nav__link">
        Security and access control
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced/semantic-web-linked-data/" class="md-nav__link">
        Semantic Web and Linked Data
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced/cloud/" class="md-nav__link">
        Cloud deployment
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced/inspire/" class="md-nav__link">
        INSPIRE support
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../conclusion/" class="md-nav__link">
        Conclusion
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#pygeoapi-support" class="md-nav__link">
    pygeoapi support
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#publish-metadata-records-in-pygeoapi" class="md-nav__link">
    Publish metadata records in pygeoapi
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#metadata-formats" class="md-nav__link">
    Metadata formats
  </a>
  
    <nav class="md-nav" aria-label="Metadata formats">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sample-iso-19139-to-tinydbcatalogue-loader" class="md-nav__link">
    Sample ISO 19139 to TinyDBCatalogue loader
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#client-access" class="md-nav__link">
    Client access
  </a>
  
    <nav class="md-nav" aria-label="Client access">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#qgis" class="md-nav__link">
    QGIS
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
  <a href="https://github.com/geopython/diving-into-pygeoapi/edit/master/docs/publishing/ogcrec.md" title="Edit this page" class="md-content__button md-icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
  </a>



<h1 id="exercise-5-metadata-via-ogc-api-records">Exercise 5 - Metadata via OGC API - Records</h1>
<p><a href="https://ogcapi.ogc.org/records">OGC API - Records</a> provides a Web API with the capability to create, modify,
and query metadata on the Web:</p>
<ul>
<li><a href="https://docs.ogc.org/DRAFTS/20-004.html">OGC API - Records: Part 1: Core</a> (<strong>draft</strong>)</li>
</ul>
<p>OGC API - Records uses OGC API - Features as a building block, thus enabling streamlined deployment and integration
for clients and users.</p>
<h2 id="pygeoapi-support">pygeoapi support</h2>
<p>pygeoapi supports the OGC API - Records draft specification, using Elasticsearch and TinyDB <a href="https://rasterio.readthedocs.io">rasterio</a> and <a href="https://docs.xarray.dev">xarray</a> as core backends.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>See <a href="https://docs.pygeoapi.io/en/latest/data-publishing/ogcapi-records.html">the official documentation</a> for more information on supported catalogue/metadata backends</p>
</div>
<h2 id="publish-metadata-records-in-pygeoapi">Publish metadata records in pygeoapi</h2>
<p>With pygeoapi we can setup OGC API - Records using any supported data provider. In this exercise we will use the <a href="https://tinydb.readthedocs.io/en/latest/index.html">TinyDB</a>
Catalogue backend. We will use the sample catalogue in <code>workshop/exercises/data/records/catalogue.tinydb</code>.</p>
<div class="admonition question">
<p class="admonition-title">Update the pygeoapi configuration</p>
<p>Open the pygeoapi configuration file in a text editor. Add a new dataset section as follows:</p>
</div>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="w">    </span><span class="nt">example_catalogue</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">collection</span><span class="w"></span>
<span class="w">        </span><span class="nt">title</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">FOSS4G Florence Record catalogue</span><span class="w"></span>
<span class="w">        </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">FOSS4G Florence Record catalogue (OGC API - Records)</span><span class="w"></span>
<span class="w">        </span><span class="nt">keywords</span><span class="p">:</span><span class="w"></span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Services</span><span class="w"></span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Infrastructures</span><span class="w"></span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Florence</span><span class="w"></span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">FOSS4G</span><span class="w"></span>
<span class="w">        </span><span class="nt">links</span><span class="p">:</span><span class="w"></span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">text/html</span><span class="w"></span>
<span class="w">              </span><span class="nt">rel</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">canonical</span><span class="w"></span>
<span class="w">              </span><span class="nt">title</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">information</span><span class="w"></span>
<span class="w">              </span><span class="nt">href</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">http://opendata.comune.firenze.it</span><span class="w"></span>
<span class="w">              </span><span class="nt">hreflang</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">en-US</span><span class="w"></span>
<span class="w">        </span><span class="nt">extents</span><span class="p">:</span><span class="w"></span>
<span class="w">            </span><span class="nt">spatial</span><span class="p">:</span><span class="w"></span>
<span class="w">                </span><span class="nt">bbox</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">11.145</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">43.718</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">11.348</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">43.84</span><span class="p p-Indicator">]</span><span class="w"></span>
<span class="w">                </span><span class="nt">crs</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">http://www.opengis.net/def/crs/OGC/1.3/CRS84</span><span class="w"></span>
<span class="w">        </span><span class="nt">providers</span><span class="p">:</span><span class="w"></span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">record</span><span class="w"></span>
<span class="w">              </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">TinyDBCatalogue</span><span class="w"></span>
<span class="w">              </span><span class="nt">data</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/data/records/catalogue.tinydb</span><span class="w"></span>
<span class="w">              </span><span class="nt">id_field</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">externalId</span><span class="w"></span>
<span class="w">              </span><span class="nt">time_field</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">recordCreated</span><span class="w"></span>
<span class="w">              </span><span class="nt">title_field</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">title</span><span class="w"></span>
</code></pre></div></td></tr></table></div>
<p>Save the configuration and restart docker compose. Navigate to <code>http://localhost:5000/collections</code> to evaluate whether the new dataset has been published.</p>
<h2 id="metadata-formats">Metadata formats</h2>
<p>By default, pygeoapi supports and expects the OGC API - Records core record model and queryables. For additional metadata formats, you can
develop your own custom pygeoapi plugin, or convert your metadata to OGC API - Records core record model before adding to pygeoapi.</p>
<h3 id="sample-iso-19139-to-tinydbcatalogue-loader">Sample ISO 19139 to TinyDBCatalogue loader</h3>
<p>It's possible to load more example ISO19139 metadata in a TinyDB database with <a href="https://github.com/geopython/pygeoapi/blob/master/tests/load_tinydb_records.py">the following script</a> (<a href="https://raw.githubusercontent.com/geopython/pygeoapi/master/tests/load_tinydb_records.py">raw</a>)</p>
<div class="termy">
<div class="highlight"><pre><span></span><code>python3 load_tinydb_records.py /xml_folder/ /db_folder/sample-records.tinydb
</code></pre></div>
</div>

<h2 id="client-access">Client access</h2>
<h3 id="qgis">QGIS</h3>
<p>QGIS supports OGC API - Records via the <a href="https://docs.qgis.org/latest/en/docs/user_manual/plugins/core_plugins/plugins_metasearch.html">MetaSearch plugin</a>. MetaSearch originally focused on Catalogue Service for the Web (OGC:CSW) only, but has been extended to OGC API - Records. MetaSearch is a default plugin in QGIS and requires no further installation.</p>
<div class="admonition question">
<p class="admonition-title">Query OGC API - Records from QGIS</p>
<p>Follow these steps to connect to a service and query datasets:</p>
<ul>
<li>Locate the MetaSearch plugin in the Web menu or on the Toolbar <img alt="MetaSearch icon" src="https://docs.qgis.org/latest/en/_images/MetaSearch.png" title="MetaSearch icon" />. The main search panel will appear with the default MetaSearch catalogue list already populated.</li>
</ul>
<p><img alt="Pre-populated catalogues" src="../../assets/images/prepopulated-catalogues.png" width="50%" /></p>
<ul>
<li>open the <code>Services</code> tab, to find the <code>New</code> button to create a new connection</li>
<li>add a connection to <code>https://demo.pygeoapi.io/master</code></li>
<li>click <code>Service Info</code> to get information about the service</li>
<li>return to the Search tab</li>
<li>select the connection you have just created</li>
<li>type a search term and click <code>search</code></li>
<li>notice that when you select a search result, a red footprint is drawn on the map highlighting the location of the dataset</li>
</ul>
<p><img alt="Search results" src="../../assets/images/search-results.png" width="50%" /></p>
</div>
<p><a href="https://geopython.github.io/OWSLib">OWSlib</a> is a Python library to interact with OGC Web Services and supports a number of OGC APIs including OGC API - Records.</p>
<div class="admonition question">
<p class="admonition-title">Interact with OGC API - Records via OWSLib</p>
<p>If you do not have Python installed, consider running this exercise in a Docker container or in a cloud environment.</p>
<p><div class="termy">
<div class="highlight"><pre><span></span><code>pip3 install owslib
</code></pre></div>
</div></p>
<p>Then start a Python console session with: <code>python</code> (stop the session by typing <code>exit()</code>).</p>
<p><div class="termy">
<div class="highlight"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">owslib.ogcapi.records</span> <span class="kn">import</span> <span class="n">Records</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">SERVICE_URL</span> <span class="o">=</span> <span class="s1">&#39;https://demo.pygeoapi.io/master/&#39;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">w</span> <span class="o">=</span> <span class="n">Records</span><span class="p">(</span><span class="n">SERVICE_URL</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">w</span><span class="o">.</span><span class="n">url</span>
<span class="s1">&#39;https://demo.pygeoapi.io/master&#39;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">dutch_metacat</span> <span class="o">=</span> <span class="n">w</span><span class="o">.</span><span class="n">collection</span><span class="p">(</span><span class="s1">&#39;dutch-metadata&#39;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">dutch_metacat</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">]</span>
<span class="s1">&#39;dutch-metadata&#39;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">dutch_metacat</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">]</span>
<span class="s1">&#39;Sample metadata records from Dutch Nationaal georegister&#39;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">dutch_metacat</span><span class="p">[</span><span class="s1">&#39;description&#39;</span><span class="p">]</span>
<span class="s1">&#39;Sample metadata records from Dutch Nationaal georegister&#39;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">dutch_metacat_query</span> <span class="o">=</span> <span class="n">w</span><span class="o">.</span><span class="n">collection_items</span><span class="p">(</span><span class="s1">&#39;dutch-metadata&#39;</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">dutch_metacat_query</span><span class="p">[</span><span class="s1">&#39;numberMatched&#39;</span><span class="p">]</span>
<span class="mi">198</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">dutch_metacat_query</span><span class="p">[</span><span class="s1">&#39;numberReturned&#39;</span><span class="p">]</span>
<span class="mi">1</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">dutch_metacat_query</span> <span class="o">=</span> <span class="n">w</span><span class="o">.</span><span class="n">collection_items</span><span class="p">(</span><span class="s1">&#39;dutch-metadata&#39;</span><span class="p">,</span> <span class="n">q</span><span class="o">=</span><span class="s1">&#39;Wegpanorama&#39;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">dutch_metacat_query</span><span class="p">[</span><span class="s1">&#39;numberMatched&#39;</span><span class="p">]</span>
<span class="mi">2</span>
</code></pre></div>
</div></p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>See the official <a href="https://geopython.github.io/OWSLib/usage.html#ogc-api">OWSLib documentation</a> for more examples.</p>
</div>
<h1 id="summary">Summary</h1>
<p>Congratulations!  You are now able to publish metadata to pygeoapi.</p>




              
            </article>
            
          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="../ogctile/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Exercise 4 - Tiles of geospatial data via OGC API - Tiles" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Exercise 4 - Tiles of geospatial data via OGC API - Tiles
            </div>
          </div>
        </a>
      
      
        
        <a href="../ogcedr/" class="md-footer__link md-footer__link--next" aria-label="Next: Exercise 6 - Environmental data via OGC - Environmental Data Retrieval" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Exercise 6 - Environmental data via OGC - Environmental Data Retrieval
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      &copy; 2022 pygeoapi community
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.indexes"], "search": "../../assets/javascripts/workers/search.ecf98df9.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.9c69f0bc.min.js"></script>
      
        <script src="../../assets/javascripts/termynal.js"></script>
      
        <script src="../../assets/javascripts/custom.js"></script>
      
    
  </body>
</html>